!function($){function ajaxRequest(e,o,i){i=i||{};var t={url:o,type:"POST",beforeSend:function(o,i){showLoadingImage(e)},success:function(o){$("#"+e).html(o),removeLoadingImage(e),bindEssentials()}};return"undefined"!=typeof i.autoRequest&&1==i.autoRequest?sendAutoAjaxRequest(e,o,i):(i=$.extend({},t,i),$.ajax(i),void bindEssentials())}function hiddenAjaxRequest(e,o,i){i=i||{};var t={url:o,type:"POST",beforeSend:function(e,o){},success:function(o){$("#"+e).html(o),bindEssentials()}};return"undefined"!=typeof i.autoRequest&&1==i.autoRequest?sendAutoAjaxRequest(e,o,i):(i=$.extend({},t,i),$.ajax(i),void bindEssentials())}function showLoadingImage(e){var o;o=$("#"+e).width()<10?"100%":$("#"+e).width()+"px";var i='<div id="'+e+'_ajxOverlayImage" class="loading-overlay" style="width: '+o+"; height: "+$("#"+e).height()+"px; min-height:160px; display:block;";i+='"><img src="/images/loader.jpg" style="position:absolute; top:45%; right:50%;">',i+="</div>",$("#"+e).prepend(i);var t=jQuery("#"+e).parent("div.ui-dialog");t.length>0&&jQuery("#"+e+"_ajxOverlayImage").css({height:t.height()-40+"px",width:t.height()-10+"px"})}function removeLoadingImage(e){$("#"+e+"_ajxOverlayImage")&&$("#"+e+"_ajxOverlayImage").remove()}function sendAutoAjaxRequest(e,o,i){i=i||{};var t={url:o,type:"POST",minChars:5,beforeSend:function(o,i){$("#"+e).hide(),$("#"+e).html($("#"+i.loadingDivId).html()),$("#"+e).fadeIn("slow")},success:function(o){$("#"+e).html(o)}};i=$.extend({},t,i),$("#"+i.originId).val().length>=i.minChars&&$.ajax(i)}function loadDialog(wdt,ht,url,divId,title,minWdt,maxHt,options){var modalWidth,dialog,options=options||{},defaultOptions={onCloseCallback:function(){}};options=$.extend({},defaultOptions,options),modalWidth="auto"==wdt?$(window).width()>1040?$(window).width()<1560?$(window).width()-60:1500:980:wdt;var modalHeight;return"auto"==ht?maxHt?(maxHt>1e3&&(maxHt=1e3),modalHeight=$(window).height()>640?$(window).height()<maxHt?$(window).height()-60:maxHt:580):modalHeight=$(window).height()>640?$(window).height()<1060?$(window).height()-60:1e3:580:modalHeight=ht,divId||(divId="mod"),dialog=$("#"+divId).length>0?$("#"+divId):$("<div id='"+divId+"' title='"+title+"'></div>").appendTo("body"),options=$.extend({},{open:function(e,o){$("html").css("overflow","hidden"),$(".ui-widget-overlay").width("100%"),$("html").unbind("keydown")},autoOpen:!0,width:modalWidth,minWidth:minWdt,height:modalHeight,title:title,modal:!0,close:function(event,ui){$(this).queue(function(){$(this).remove()}).delay(100).queue(function(){"undefined"==typeof event.originalEvent&&eval(options.onCloseCallback)()}).delay(100).queue(function(){bindLargeDialogEscape()}),0==$(".modal-large").length&&$("html").css("overflow","")}},options),0!=parseInt(wdt)&&0!=parseInt(ht)&&dialog.dialog(options),showLoadingImage(divId),dialog.load(url),dialog}function loadLargeDialog(e,o,i){var t=$("html").scrollTop(),a={onCloseCallback:function(){}},o=o||{};o=$.extend({},a,o),largeDialogOptions=o;var n=$(window).height(),l=$(window).height()-50,d="vv-logo",s='<div class="modal-head"><div class="'+d+'"></div>';i&&(s+='<div class="title"><span><i></i><a class="nohref" onclick="closeModalContent(0);">'+i+"</a></span></div>"),s+='<i class="close" onclick="closeLargeDialog();"></i>',s+='<div class="close-menu"><a class="nohref" id="close-current" onclick="closeLargeDialog(\'current\');">Close [1]</a><br></br><a class="nohref" id="close-all" onclick="closeLargeDialog(\'all\');">Close All [A]</a></div></div>',s+='<div class="modal-large" style="height:'+n+'px;">',s+="<div></div>",s+='<div class="modal-body-container" id="modal_container0" style="height:'+l+'px"><div class="modal-body" id="modal_body"></div></div>',s+='<div class="modal-overlay" style="height:'+l+'px"></div>',s+="</div>",$("body").append(s),$("html").css("overflow","hidden"),bindLargeDialogEscape(),ajaxRequest("modal_body",e,""),dialogContentCount=0,$("html").scrollTop(t)}function addDialogContent(e,o){var i=$(window).height()-50,t=parseInt($("#modal_container"+dialogContentCount).css("z-index"))+2,a=parseInt($("#modal_container"+dialogContentCount).css("z-index"))+1;dialogContentCount+=1,$(".modal-head .title").append('<span><i></i><a class="nohref" onclick="closeModalContent('+dialogContentCount+');">'+o+"</a></span>"),$(".modal-large").prepend('<div id="modal_container'+dialogContentCount+'" class="modal-body-container hide" style="z-index:'+t+"; height:"+i+'px"><div class="modal-body"><div id="modal_body'+dialogContentCount+'"></div></div></div><div class="modal-overlay" id="modal_overlay'+dialogContentCount+'" style="z-index:'+a+"; height:"+i+'px"></div>'),$(".modal-large").find("#modal_container"+dialogContentCount).slideDown(700),ajaxRequest("modal_body"+dialogContentCount,e,"")}function closeModalContent(e){var o=$(".modal-head .title span").size();for(i=e+1;i<o;i++)$(".modal-head .title span").eq(e+1).remove(),$("#modal_container"+i).slideUp(700),$("#modal_container"+i).promise().done(function(){$(this).remove()}),$("#modal_overlay"+i).fadeOut(1e3),$("#modal_overlay"+i).promise().done(function(){$(this).remove()});dialogContentCount=e}function bindLargeDialogEscape(){$("html").unbind("keydown.esc").bind("keydown.esc","esc",function(e){closeLargeDialog(),e.preventDefault()})}function closeLargeDialog(options){if(jQuery(document).scrollTop(jQuery("body").attr("data-vertical-scroll-position")),1>dialogContentCount||"all"==options){var curScrollTop=$("html").scrollTop();$("body").find(".modal-body").slideUp(400).queue(function(){$("body").find(".modal-large").fadeOut(200).queue(function(){$("body").find(".modal-head").remove(),$("body").find(".modal-large").remove(),$("html").css("overflow","").queue(function(){$("html").scrollTop(curScrollTop),$(this).dequeue()})}),$(this).remove()}),0<$("body #notifyUnitSearchDiv").size()&&$("body #notifyUnitSearchDiv").remove(),$(".modal-head .close-menu").fadeOut("fast"),largeDialogOptions&&largeDialogOptions.onCloseCallback&&eval(largeDialogOptions.onCloseCallback)()}else"current"==options?(closeModalContent(dialogContentCount-1),$(".modal-head .close-menu").fadeOut("fast")):($(".modal-head .close-menu #close-current").text("Close "+$(".modal-head .title span").eq(dialogContentCount).text()+" [1]"),$(".modal-head .close-menu").toggle(),$(".modal-head .close-menu").is(":visible")?($("html").unbind("keydown.close1").bind("keydown.close1","1",function(){closeLargeDialog("current"),$("html").unbind("keydown.close1")}),$("html").unbind("keydown.closeAll").bind("keydown.closeAll","a",function(){closeLargeDialog("all"),$("html").unbind("keydown.closeAll")})):($("html").unbind("keydown.close1"),$("html").unbind("keydown.closeAll")))}function loadSmallDialog(e,o,i){var t={onCloseCallback:function(){}},i=i||{};i=$.extend({},t,i),e=e||"small_dialog",largeDialogOptions=i;var a=$(window).height(),n=$(window).height()-50,l="<div id="+e+' class="modal-large" style="height:'+a+'px;">';l+='<div class="modal-head"><div class="logo"></div></div>',l+='<div class="modal-body-container" style="height:'+n+'px"><div class="modal-body"><div id="modal_body"></div></div></div>',l+='<div class="modal-overlay" style="height:'+n+'px"></div>',l+="</div>",$("body").append(l),$("html").css("overflow","hidden"),bindSmallDialogEscape(e),ajaxRequest("modal_body",o,"")}function bindSmallDialogEscape(e){$("html").unbind("keydown").bind({keydown:function(o){!$(".ui-dialog").is(":visible")&&o.keyCode&&o.keyCode===$.ui.keyCode.ESCAPE&&(closeSmallDialog(e),o.preventDefault())}})}function closeSmallDialog(divId){$("body").find("#"+divId).hide().queue(function(){$("html").css("overflow","auto"),$(this).remove()}),largeDialogOptions&&largeDialogOptions.onCloseCallback&&eval(largeDialogOptions.onCloseCallback)()}function bindEssentials(){$(window).resize(function(){$(".modal-overlay").height($(window).height()),$(".modal-large").height($(window).height()),$(".modal-body-container").height($(window).height()-50)})}function copyToClipboard(e){elem=document.getElementById(e);var o,i,t="_hiddenCopyText_",a="TEXTAREA"===elem.tagName;if(a)n=elem,o=elem.selectionStart,i=elem.selectionEnd;else{if(n=document.getElementById(t),!n){var n=document.createElement("textarea");n.style.position="absolute",n.style.left="-9999px",n.style.top="0",n.id=t,document.body.appendChild(n)}n.textContent=elem.textContent}var l=document.activeElement;n.focus(),n.setSelectionRange(0,n.value.length);var d;try{d=document.execCommand("copy")}catch(s){d=!1}return l&&"function"==typeof l.focus&&l.focus(),a?elem.setSelectionRange(o,i):n.textContent="",elem.select(),alert("Copied: "+elem.value),d}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var o=Object(this),i=o.length>>>0;if(0===i)return-1;var t=0;if(arguments.length>1&&(t=Number(arguments[1]),t!=t?t=0:0!=t&&t!=1/0&&t!=-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=i)return-1;for(var a=t>=0?t:Math.max(i-Math.abs(t),0);i>a;a++)if(a in o&&o[a]===e)return a;return-1}),this.ajaxRequest=ajaxRequest,this.hiddenAjaxRequest=hiddenAjaxRequest,this.showLoadingImage=showLoadingImage,this.removeLoadingImage=removeLoadingImage,this.sendAutoAjaxRequest=sendAutoAjaxRequest,showSuccessMessages=function(e){0<$("#show_msg_inner").length?0==$("#para_show_msg").length&&($("#show_msg_inner").html("<p id='para_show_msg' class = 'alert success slim'>"+e+"</p>"),$("#show_msg_inner").fadeIn().animate({opacity:1},7e3).fadeOut(500,function(){jQuery("#para_show_msg").remove()})):0==$("#para_show_msg").length&&($("#show_msg_outer").html("<p id='para_show_msg' class = 'alert success slim'>"+e+"</p>"),$("#show_msg_outer").fadeIn().animate({opacity:1},7e3).fadeOut(500,function(){jQuery("#para_show_msg").remove()}))},this.showSuccessMessages=showSuccessMessages,this.loadDialog=loadDialog;var largeDialogOptions={},dialogContentCount=0;this.loadLargeDialog=loadLargeDialog,this.addDialogContent=addDialogContent,this.addDialogContent=addDialogContent,this.bindLargeDialogEscape=bindLargeDialogEscape,this.closeLargeDialog=closeLargeDialog,$(function(){bindEssentials()}),resizeDialog=function(e,o){o=o||{};var i={position:"center"};o=jQuery.extend({},i,o),e.dialog("option",o),e.dialog("option","position",o.position)},resizeDialog=this.resizeDialog,$(document).ready(function(){$("#main-content-header").click(function(e){})}),this.copyToClipboard=copyToClipboard}(jQuery);